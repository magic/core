<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="Permissions-Policy" content="interest-cohort=()"/><link rel="icon" href="/core/favicon.ico"/><title>@magic/core documentation</title><meta name="twitter:image" property="og:image" content="https:/magic.github.io/core/logo.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" content="@magic-modules documentation."/><meta name="author" content="Jascha Ehrenreich"/><script type="application/ld+json">{"@context":"http://schema.org","@type":"website","name":"@magic/core documentation","url":"https://magic.github.io/core/","about":"@magic framework core.","image":"https:/magic.github.io/core/logo.png","author":{"@type":"person","name":"Jascha Ehrenreich","jobTitle":"Technomancer","image":"https:/jaeh.at/img/jascha.ehrenreich.jpg","url":"https://jaeh.at"}}</script><link rel="stylesheet" href="/core/magic.css?Nj2IamFf3l" integrity="sha384-Nj2IamFf3lkwe0d0bnbjKwzfIxgRaUMjXNF4oaceiWFk5CQEsD6Ax7cWvVMOUkB+" crossorigin="anonymous"/></head><body><a class="SkipLink" href="/core/#page">Skip to Content</a><div id="PREPENDTag"></div><main id="Magic"><div class="Wrapper"><header class="Header"><a class="Logo" href="/core/"><svg viewBox="0 0 512 444"><path d="M512 444L256 0 0 444z" fill="#663695"></path><circle cx="256" cy="294" r="130" fill="#fff"></circle><circle cx="256" cy="281" r="40" fill="#663695"></circle><path d="M256 350v44m24-44l1 13c1 27 29 27 29-7m-160-72s46-47 106-47c59 0 106 47 106 47s-47 43-106 43c-60 0-106-43-106-43zm65-75a134 134 0 0189 2" class="stroke"></path><path d="M256 81v53m184 270l-43-29M72 404l43-29" class="stroke white"></path></svg></a><p>@magic</p><nav class="Menu"><ul><li><a href="/core/concepts/">concepts</a></li><li><a href="/core/files/">files &amp; directories</a></li><li><a href="/core/modules/">modules</a><ul><li><a href="/core/modules/#definition">definition</a></li><li><a href="/core/modules/#usage">usage</a></li><li><a href="/core/modules/#gl-magic-modules">@magic-modules</a></li><li><a href="/core/modules/example/">custom modules</a></li><li class="active"><a href="/core/modules/preinstalled/">preinstalled</a><ul><li><a href="/core/modules/preinstalled/#menu">menu</a></li><li><a href="/core/modules/preinstalled/#link">link</a></li><li><a href="/core/modules/preinstalled/#img">img</a></li><li><a href="/core/modules/preinstalled/#footer">footer</a></li></ul></li><li><a href="/core/modules/markdown/">markdown</a></li><li><a href="/core/modules/html/">html</a></li></ul></li><li><a href="/core/themes/">themes</a></li><li><a href="/core/libraries/">libraries</a></li><li><a href="/core/news/">news</a></li><li><a href="/core/test/">test</a></li></ul></nav></header><div class="Page" id="page"><h1 id="magic-modules">@magic-modules</h1><h2 id="preinstalled">preinstalled</h2><p>magic has some preinstalled modules that will be used in most pages.</p><h2 id="app">app</h2><p>this is the main app module.
it has magically inherited properties and all of it is customizable.</p><p>to add actions/state/style to the app you can just create an /assets/app.mjs file.
the contents of this file get
<a href="https://github.com/magic/deep" target="_blank" rel="noopener">deep .merged</a>
into the app</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="comment">// /src/app.mjs</span></code><code class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="state">state</span> = {</code><code class="line">  merge: <span class="string">&#39;gets merged into state&#39;</span>,</code><code class="line">}</code><code class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="actions">actions</span> = {</code><code class="line">  mergedActions: <span class="state">state</span> <span class="keyword">=&gt;</span> ({ ...state, merge: <span class="string">&#39;merged action executed&#39;</span> }),</code><code class="line">}</code></pre></div><h2 id="menu">menu</h2><p>the Menu module provides... menus.</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="keyword">export</span> <span class="keyword">const</span> View = <span class="state">state</span> <span class="keyword">=&gt;</span> {</code><code class="line">  <span class="keyword">const</span> items = [</code><code class="line">    { to: <span class="string">&#39;/&#39;</span>, text: <span class="string">&#39;example page&#39;</span> },</code><code class="line">    { to: <span class="string">&#39;https://example.com&#39;</span>, text: <span class="string">&#39;example.com&#39;</span> },</code><code class="line">    { to: <span class="string">&#39;https://example.com&#39;</span>, nofollow: true, noreferrer: true, target: <span class="string">&#39;utopia&#39;</span>, text: &#39;nofollow and noref&quot; },</code><code class="line">  ]</code><code class="line"></code><code class="line">  <span class="keyword">return</span> Menu({ items, collapse: <span class="boolean">false</span> })</code><code class="line">}</code><code class="line"></code><code class="line"><span class="comment">// output:</span></code><code class="line">[object Object]</code><code class="line">}</code></pre></div><h3 id="menu-props">Menu props</h3><p>the Menu module allows multiple props to be passed when instantiating the Menu</p><h3 id="menu-props-collapse">props.collapse</h3><p>by default, the menu will only show submenu items if their parent link is active.
to force submenu items to show at all times, just pass a collapse: false prop</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line">Menu({</code><code class="line">  <span class="comment">// <span class="keyword">if</span> false, menu will always show all submenu items</span></code><code class="line">  collapse: false, <span class="comment">// (default: true)</span></code><code class="line">})</code></pre></div><h3 id="menu-item-props">Menu.Item props</h3><p>every MenuItem accepts the same props as a link does.
additionally a MenuItem accepts an items prop with sub menu items.</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="keyword">const</span> menuItem = ({</code><code class="line">  to: <span class="string">&#39;/url&#39;</span>,</code><code class="line">  text: <span class="string">&#39;link text&#39;</span>,</code><code class="line">  items: [MenuItems],</code><code class="line">  noreferrer: true, <span class="comment">// set rel=&#39;noreferrer&#39;</span></code><code class="line">  nofollow: true, <span class="comment">// set rel=&#39;nofollow&#39;</span></code><code class="line">})</code></pre></div><h3 id="menu-sub-menus">sub menus</h3><p>to define a submenu, simply define a .items array on the menu item</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="comment">// assets/app.mjs</span></code><code class="line"><span class="keyword">export</span> <span class="keyword">default</span> {</code><code class="line">  state: {</code><code class="line">    <span class="comment">// ...state</span></code><code class="line">    menuName: [</code><code class="line">      {</code><code class="line">        to: <span class="string">&#39;/example-page&#39;</span>,</code><code class="line">        text: <span class="string">&#39;example page&#39;</span>,</code><code class="line">        items: [</code><code class="line">          { to: <span class="string">&#39;/example-page/#sub&#39;</span>, text: <span class="string">&#39;example sub page&#39;</span> },</code><code class="line">      ] },</code><code class="line">    ],</code><code class="line">  },</code><code class="line">  <span class="comment">// ... rest of app.mjs</span></code><code class="line">}</code></pre></div><h2 id="link">link</h2><p>the link module allows you to link to things.</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="comment">// <span class="keyword">in</span> any page or <span class="keyword">module</span> View</span></code><code class="line"><span class="keyword">export</span> <span class="keyword">default</span> () <span class="keyword">=&gt;</span> [</code><code class="line">  Link({ to: <span class="string">&#39;/&#39;</span>, text: <span class="string">&#39;page&#39;</span> }),</code><code class="line">  <span class="comment">// output: [object Object]</span></code><code class="line">  Link({ to: <span class="string">&#39;https://example.com&#39;</span>, text: <span class="string">&#39;page&#39;</span> }),</code><code class="line">  <span class="comment">// output: [object Object]</span></code><code class="line">  Link({ to: <span class="string">&#39;/&#39;</span>, text: <span class="string">&#39;page&#39;</span>, nofollow: true, noreferrer: <span class="boolean">true</span> }),</code><code class="line">  <span class="comment">// output: [object Object]</span></code><code class="line"></code><code class="line">  <span class="comment">// you can also use children syntax instead of the text prop:</span></code><code class="line">  Link({ to: <span class="string">&#39;/&#39;</span> }, <span class="string">&#39;home&#39;</span>),</code><code class="line"></code><code class="line">  <span class="comment">// Link also supports # hash links</span></code><code class="line">  Link({ to: <span class="string">&#39;/#hash&#39;</span> }, <span class="string">&#39;home with hash&#39;</span>),</code><code class="line">]</code></pre></div><h2 id="img">img</h2><p>the img module adds some sane default values to your images.</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="comment">// <span class="keyword">in</span> any page or <span class="keyword">module</span> View</span></code><code class="line"><span class="keyword">export</span> <span class="keyword">default</span> () <span class="keyword">=&gt;</span> [</code><code class="line">  Img(<span class="string">&#39;/image.png&#39;</span>),</code><code class="line">  <span class="comment">// output: &lt;img src=&quot;/image.png&quot; alt=&quot;&quot; role=&quot;presentation&quot;/&gt;</span></code><code class="line">  Img({ src: <span class="string">&#39;/image.png&#39;</span> }),</code><code class="line">  <span class="comment">// output: &lt;img src=&quot;/image.png&quot; alt=&quot;&quot; role=&quot;presentation&quot;/&gt;</span></code><code class="line">  Img({ src: <span class="string">&#39;/image.png&#39;</span>, alt: <span class="string">&#39;image description&#39;</span> }),</code><code class="line">  <span class="comment">// output: &lt;img src=&quot;/image.png&quot; alt=&quot;image description&quot; /&gt;</span></code><code class="line">  Img({ src: <span class="string">&#39;/image.png&#39;</span>, title: <span class="string">&#39;image title&#39;</span>, }),</code><code class="line">  <span class="comment">// output: &lt;img src=&quot;/image.png&quot; title=&quot;image title&quot; alt=&quot;image title&quot;/&gt;</span></code><code class="line">  Img({ src: <span class="string">&#39;/image.png&#39;</span>, title: <span class="string">&#39;image title&#39;</span>, alt: <span class="string">&#39;image alt&#39;</span> }),</code><code class="line">  <span class="comment">// output: &lt;img src=&quot;/image.png&quot; title=&quot;image title&quot; alt=&quot;image alt&quot;/&gt;</span></code><code class="line">]</code></pre></div><h2 id="footer">footer</h2><p>the footer module contains a small info text and a link to the magic github repository.</p><p>to overwrite this behaviour, just place a Footer.mjs file in your assets and require it in /assets/index.mjs.</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="comment">// /assets/Footer.mjs:</span></code><code class="line"><span class="keyword">const</span> Footer = () <span class="keyword">=&gt;</span></code><code class="line">footer({ class: <span class="string">&#39;main&#39;</span> }, [</code><code class="line">  div({ class: <span class="string">&#39;wrapper&#39;</span> }, [</code><code class="line">    <span class="string">&#39;made with a few bits of &#39;</span>,</code><code class="line">    Link({ href: <span class="string">&#39;https://github.com/magic/core&#39;</span>, target: <span class="string">&#39;_blank&#39;</span>, rel: <span class="string">&#39;noopener&#39;</span> }, <span class="string">&#39;magic&#39;</span>),</code><code class="line">  ]),</code><code class="line">])</code><code class="line"></code><code class="line">Footer.style: {</code><code class="line">  <span class="string">&#39;footer.main&#39;</span>: {</code><code class="line">    position: <span class="string">&#39;relative&#39;</span>,</code><code class="line">    textAlign: <span class="string">&#39;center&#39;</span>,</code><code class="line">    padding: <span class="string">&#39;5em 0 .5em&#39;</span>,</code><code class="line">  },</code><code class="line">}</code><code class="line"></code><code class="line"><span class="keyword">export</span> <span class="keyword">default</span> Footer</code></pre></div></div><footer class="Footer"><div class="Container"><div class="Credits">made with a few bits of <a target="_blank" rel="noopener" href="https://magic.github.io/">magic</a></div></div></footer></div></main><div id="APPENDTag"></div><script src="/core/prependScript.js"></script><script src="/core/magic.js?CjRF55MpAq" integrity="sha384-CjRF55MpAqhnX+E98Mf86Il4MbGw3THVX+bt47o2RckjwWuIL4yVroZdwJYV4rDO" crossorigin="anonymous"></script><script src="/core/appendScript.js"></script></body></html>
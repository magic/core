<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="icon" href="/core/favicon.ico"/><title>@magic/core library docs</title><meta name="twitter:image" property="og:image" content="https://magic.github.io/core/core/logo.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" content="@magic/core libraries allow you to include client side functionality in your app."/><meta name="author" content="Jascha Ehrenreich"/><script type="application/ld+json">{"@context":"http://schema.org","@type":"website","name":"@magic/core documentation","url":"https://magic.github.io/core","about":"@magic framework core.","image":"https://magic.github.io/core/core/logo.png","author":{"@type":"person","name":"Jascha Ehrenreich","jobTitle":"Technomancer","image":"https:/jaeh.at/img/jascha.ehrenreich.jpg","url":"https://jaeh.at"}}</script><link rel="stylesheet" href="/core/magic.css?6hSY9fCnm0" integrity="sha384-6hSY9fCnm0dWh5/sYk7zXohWUa8A/UWz5El7GhZ16oW4JdHMgawUadnbHyvjixxX" crossorigin="anonymous"/></head><body><a class="SkipLink" href="/core/#page">Skip to Content</a><main id="Magic"><div class="Wrapper"><header class="Header"><div><a class="Logo" href="/core/"><svg viewBox="0 0 512 444"><path d="M512 444L256 0 0 444z" fill="#663695"></path><circle cx="256" cy="294" r="130" fill="#fff"></circle><circle cx="256" cy="281" r="40" fill="#663695"></circle><path d="M256 350v44m24-44l1 13c1 27 29 27 29-7m-160-72s46-47 106-47c59 0 106 47 106 47s-47 43-106 43c-60 0-106-43-106-43zm65-75a134 134 0 0189 2" class="stroke"></path><path d="M256 81v53m184 270l-43-29M72 404l43-29" class="stroke white"></path></svg></a><p>@magic</p><nav class="Menu"><ul><li><a href="/core/concepts/">concepts</a></li><li><a href="/core/files/">files &amp; directories</a></li><li><a href="/core/modules/">modules</a></li><li><a href="/core/themes/">themes</a></li><li class="active"><a href="/core/libraries/">libraries</a><ul><li><a href="/core/libraries/#abstract">summary</a></li><li><a href="/core/libraries/#dir-or-file">local file</a></li><li><a href="/core/libraries/#npm">libs from npm</a></li><li><a href="/core/libraries/#example">example</a></li><li><a href="/core/libraries/#gl-magic-libraries">@magic-libraries</a></li></ul></li><li><a href="/core/news/">news</a></li></ul></nav></div></header><div class="Page" id="page"><h1 id="magiccore-library-docs">@magic/core library docs</h1><p>@magic/core libraries allow you to include client side functionality in your app.</p><h2 id="abstract">libraries</h2><p>what would javascript be without the millions of dependencies
that you can easily install and make the average webpage
slow[ly] (pun intended) grow towards a footprint of 5 megabytes.</p><p>we think that all of that bloat is unneeded, unheeded and, frankly, not optimal.</p><p>magic has one external client side dependency,
<a href="https://github.com/jorgebucharan/hyperapp" target="_blank" rel="noopener">hyperapp</a>,
 [~500 lines that provide our ui state machine]. thats it. and it won&#39;t change.</p><p>we also have the tendency to write libraries specialized for our usecase, see
<a href="https://github.com/magic/css" target="_blank" rel="noopener">@magic/css</a>,
 <a href="https://github.com/magic/test" target="_blank" rel="noopener">@magic/test</a>,
 <a href="https://github.com/magic/cli" target="_blank" rel="noopener">@magic/cli</a>
and others.</p><p>once there is a lib key in at least one component,
window.lib (browser) and global.lib (nodejs) will be set,
aliasing lib as a global variable in both environments</p><h3 id="dir-or-file">lib dir or file</h3><p>if you need libraries in multiple otherwise independent modules,
it might be easier to keep your library dependencies in a central place.</p><p>to achieve this, one can simply create /assets/lib.mjs and export an object from it.
this object will get merged into the globalThis.lib object,
making it available as &quot;lib&quot; throughout your app.</p><p>alternatively, you can create a /assets/modules directory
and place UpperCaseNamed.mjs files in there.</p><p>their names will be deferred from the filename
and they will be available in your app without importing them.
if you do not use one of the modules,
dead code elimination will simply remove it in production.</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="keyword">export</span> <span class="keyword">default</span> { name: () <span class="keyword">=&gt;</span> {} }</code></pre></div><p>will turn into</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line">lib.name = () <span class="keyword">=&gt;</span> {}</code></pre></div><h3 id="npm">npm</h3><p>all @magic-libraries and all npm packages starting with magic-library-* will be loaded automatically</p><h4 id="example">Example</h4><p>first, install a @magic-library</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="keyword">npm</span> <span class="keyword">install</span> --save --save-exact @magic-libraries/is</code></pre></div><p>then, in javascript</p><div class="Pre lines"><div class="menu"><button>copy</button></div><pre><code class="line"><span class="keyword">export</span> <span class="keyword">const</span> View = props <span class="keyword">=&gt;</span> div([</code><code class="line">  <span class="string">&#39;value is &#39;</span>,</code><code class="line">  lib.is(props.value, <span class="string">&#39;string&#39;</span>) ? <span class="string">&#39;&#39;</span> : <span class="string">&#39;not&#39;</span>,</code><code class="line">  <span class="string">&#39; a string&#39;</span>,</code><code class="line">])</code></pre></div><div class="GitList" id="gl-magic-libraries"><h2><a href="https://magic-libraries.github.io" target="_blank" rel="noopener">@magic-libraries</a></h2><div class="description">@magic libraries are pieces of client side functionality. they are not intended to be used in markdown, instead, a developer will use them when creating @magic-modules, which can then be used from markdown pages.</div><ul id="gl-magic-libraries-ul"><li id="gl-magic-libraries-li-db" class="GitListItem"><h3><a href="https://magic-libraries.github.io/db" target="_blank" rel="noopener">@magic-libraries/db demo</a></h3><p>key =&gt; value store using localstorage</p><p><a href="https://github.com/magic-libraries/db" target="_blank" rel="noopener">git repository</a></p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/db" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/db?color=blue" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><img src="https://img.shields.io/node/v/@magic-libraries/db?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><img src="https://img.shields.io/npm/l/@magic-libraries/db?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><a href="https://travis-ci.com/magic-libraries/db" target="_blank" rel="noopener"><img src="https://img.shields.io/travis/com/magic-libraries/db/master" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/db/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/db/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://coveralls.io/github/magic-libraries/db" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/db/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/db" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/db.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li></ul></li><li id="gl-magic-libraries-li-gql" class="GitListItem"><h3><a href="https://magic-libraries.github.io/gql" target="_blank" rel="noopener">@magic-libraries/gql demo</a></h3><p>the @magic-libraries/gql module encodes template strings to graphql queries ready to be sent to a server.</p><p><a href="https://github.com/magic-libraries/gql" target="_blank" rel="noopener">git repository</a></p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/gql" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/gql?color=blue" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><img src="https://img.shields.io/node/v/@magic-libraries/gql?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><img src="https://img.shields.io/npm/l/@magic-libraries/gql?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><a href="https://travis-ci.com/magic-libraries/gql" target="_blank" rel="noopener"><img src="https://img.shields.io/travis/com/magic-libraries/gql/master" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/gql/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/gql/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://coveralls.io/github/magic-libraries/gql" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/gql/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/gql" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/gql.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li></ul></li><li id="gl-magic-libraries-li-is" class="GitListItem"><h3><a href="https://magic-libraries.github.io/is" target="_blank" rel="noopener">@magic-libraries/is demo</a></h3><p>the @magic-libraries/is module unifies the javascript type testing apis.</p><p><a href="https://github.com/magic-libraries/is" target="_blank" rel="noopener">git repository</a></p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/is" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/is?color=blue" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><img src="https://img.shields.io/node/v/@magic-libraries/is?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><img src="https://img.shields.io/npm/l/@magic-libraries/is?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><a href="https://travis-ci.com/magic-libraries/is" target="_blank" rel="noopener"><img src="https://img.shields.io/travis/com/magic-libraries/is/master" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/is/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/is/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://coveralls.io/github/magic-libraries/is" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/is/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/is" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/is.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li></ul></li><li id="gl-magic-libraries-li-json" class="GitListItem"><h3><a href="https://magic-libraries.github.io/json" target="_blank" rel="noopener">@magic-libraries/json demo</a></h3><p>the @magic-libraries/json module parses and stringifies json. it also returns errors instead of throwing them.</p><p><a href="https://github.com/magic-libraries/json" target="_blank" rel="noopener">git repository</a></p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/json" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/json?color=blue" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><img src="https://img.shields.io/node/v/@magic-libraries/json?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><img src="https://img.shields.io/npm/l/@magic-libraries/json?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><a href="https://travis-ci.com/magic-libraries/json" target="_blank" rel="noopener"><img src="https://img.shields.io/travis/com/magic-libraries/json/master" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/json/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/json/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://coveralls.io/github/magic-libraries/json" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/json/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/json" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/json.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li></ul></li><li id="gl-magic-libraries-li-prevent-default" class="GitListItem"><h3><a href="https://magic-libraries.github.io/prevent-default" target="_blank" rel="noopener">@magic-libraries/prevent-default demo</a></h3><p>the @magic-libraries/prevent-default module invokes event.preventDefault as a hyperapp effect.</p><p><a href="https://github.com/magic-libraries/prevent-default" target="_blank" rel="noopener">git repository</a></p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/prevent-default" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/prevent-default?color=blue" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><img src="https://img.shields.io/node/v/@magic-libraries/prevent-default?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><img src="https://img.shields.io/npm/l/@magic-libraries/prevent-default?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><a href="https://travis-ci.com/magic-libraries/prevent-default" target="_blank" rel="noopener"><img src="https://img.shields.io/travis/com/magic-libraries/prevent-default/master" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/prevent-default/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/prevent-default/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://coveralls.io/github/magic-libraries/prevent-default" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/prevent-default/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/prevent-default" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/prevent-default.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li></ul></li><li id="gl-magic-libraries-li-try-catch" class="GitListItem"><h3><a href="https://magic-libraries.github.io/try-catch" target="_blank" rel="noopener">@magic-libraries/try-catch demo</a></h3><p>the @magic-libraries/try-catch module returns errors instead of throwing them.</p><p><a href="https://github.com/magic-libraries/try-catch" target="_blank" rel="noopener">git repository</a></p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/try-catch" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/try-catch?color=blue" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><img src="https://img.shields.io/node/v/@magic-libraries/try-catch?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><img src="https://img.shields.io/npm/l/@magic-libraries/try-catch?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><a href="https://travis-ci.com/magic-libraries/try-catch" target="_blank" rel="noopener"><img src="https://img.shields.io/travis/com/magic-libraries/try-catch/master" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/try-catch/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/try-catch/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://coveralls.io/github/magic-libraries/try-catch" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/try-catch/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/try-catch" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/try-catch.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li></ul></li><li id="gl-magic-libraries-li-uri" class="GitListItem"><h3><a href="https://magic-libraries.github.io/uri" target="_blank" rel="noopener">@magic-libraries/uri demo</a></h3><p>the @magic-libraries/uri module encodes objects to uri strings and decodes uri strings to objects.</p><p><a href="https://github.com/magic-libraries/uri" target="_blank" rel="noopener">git repository</a></p><ul class="GitBadges"><li><a href="https://www.npmjs.com/package/@magic-libraries/uri" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/@magic-libraries/uri?color=blue" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><img src="https://img.shields.io/node/v/@magic-libraries/uri?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><img src="https://img.shields.io/npm/l/@magic-libraries/uri?color=blue" height="23" role="presentation" alt="" loading="lazy"/></li><li><a href="https://travis-ci.com/magic-libraries/uri" target="_blank" rel="noopener"><img src="https://img.shields.io/travis/com/magic-libraries/uri/master" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://ci.appveyor.com/project/magiclibraries/uri/branch/master" target="_blank" rel="noopener"><img src="https://img.shields.io/appveyor/ci/magiclibraries/uri/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://coveralls.io/github/magic-libraries/uri" target="_blank" rel="noopener"><img src="https://img.shields.io/coveralls/github/magic-libraries/uri/master.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li><li><a href="https://snyk.io/test/github/magic-libraries/uri" target="_blank" rel="noopener"><img src="https://img.shields.io/snyk/vulnerabilities/github/magic-libraries/uri.svg" height="23" role="presentation" alt="" loading="lazy"/></a></li></ul></li></ul></div></div><footer class="Footer"><div class="Container"><div class="Credits">made with a few bits of <a target="_blank" rel="noopener" href="https://magic.github.io/">magic</a></div></div></footer></div></main><script src="/core/magic.js?ZeluklZL9Y" integrity="sha384-ZeluklZL9YziJPQifZoVISKJ2fOz9xNjMXM7Y+Z0nJUFAx+6sSbH/7b8VWYIkO5k" crossorigin="anonymous"></script></body></html>
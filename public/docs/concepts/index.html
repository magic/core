<!DOCTYPE html><html><head><meta charset="utf-8"/><link rel="icon" href="/core/favicon.ico"/><link rel="stylesheet" href="/core/magic.css"/></head><body><div id="magic"><div class="wrapper"><header class="main"><img class="logo" src="/core/logo.png" height="100" width="200" role="presentation"/><nav class="Menu"><ul><li><a href="/core/">home</a></li><li><a href="/core/deep/">deep</a></li><li class="active"><a href="/core/docs/">docs</a></li></ul></nav></header><div class="page"><header class="sub"><h3>Contents:</h3><nav class="Menu"><ul><li class="active"><a href="/core/docs/concepts/">concepts</a></li><li><a href="/core/docs/files/">files &amp; directories</a></li><li><a href="/core/docs/modules/">modules</a></li><li><a href="/core/docs/themes/">themes</a></li></ul></nav></header><h1>concepts</h1><div><div><h2>components</h2><p>components are the main building block of magic.</p><p>components can include state, actions, style and multiple Views</p></div><div><h2>state</h2><div><p>state is a javascript object.</p><p>state can be mutated by actions.</p><p>every rendering step, the state determines the output of the view</p><h4>example state:</h4><div class="Pre"><div class="line"></div><div class="line"><div class="line comment">// state variables can be anything you can JSON.stringify()</div></div><div class="line"><span class="colon">state</span>: {</div><div class="line">  <span class="colon">variable</span>: <span class="boolean">true</span>,</div><div class="line">  <span class="colon">args</span>: <span class="string">&#39;none&#39;</span>,</div><div class="line">}</div></div></div></div><div><h2>actions</h2><p>actions are an object of functions</p><p>those functions get passed a state object and return a new partial state</p><h4>example functions</h4><div class="Pre"><div class="line"></div><div class="line"><div class="line comment">// actions are an object containing functions.</div></div><div class="line"><div class="line comment">// if an action returns an object, this object gets merged into the state</div></div><div class="line"><span class="colon">actions</span>: {</div><div class="line">  <span class="colon">changeVariable</span>: args =&gt; <span class="state">state</span> =&gt; ({</div><div class="line">    <span class="colon">variable</span>: !<span class="state">state</span>.variable,</div><div class="line">    args,</div><div class="line">  }),</div><div class="line">  <span class="colon">callActionInAction</span>: () =&gt; <span class="keyword">async</span> (<span class="state">state</span>, <span class="actions">actions</span>) =&gt; {</div><div class="line"><div class="line comment">    // just await something inside an action to create an async action</div></div><div class="line">    <span class="keyword">await</span><span class="keyword"> </span><span class="keyword">new</span><span class="keyword"> </span><span class="builtin">Promise</span>(resolve =&gt; {</div><div class="line">      <span class="builtin">setTimeout</span>(resolve, 200)</div><div class="line">    })</div><div class="line"></div><div class="line"><div class="line comment">    // actions can call other actions</div></div><div class="line">    <span class="actions">actions</span>.changeVariable(<span class="state">state</span>.variable ? <span class="string">&#39;arg passed to function&#39;</span> : <span class="string">&#39;&#39;</span>)</div><div class="line">  },</div><div class="line">}</div></div></div><div><h2>views</h2><p>views render the state to html</p><p>whenever an action triggers a statechange, this statechange then triggers a view change.</p><div class="Pre"><div class="line"></div><div class="line"><span class="colon">View</span>: (<span class="state">state</span>, <span class="actions">actions</span>) =&gt; (</div><div class="line">  div({ <span class="colon">onclick</span>: <span class="actions">actions</span>.callActionInAction }, <span class="state">state</span>.variable)</div><div class="line">)</div></div></div><div><h2>styles</h2><p>every component can have a style object attached to it.</p><p>magic will automagically merge all styles into one global css file.</p><p>in the future, it will also remove unused styles for you.</p><div class="Pre"><div class="line"></div><div class="line"><span class="colon">style</span>: {</div><div class="line">  <span class="string">&#39;.className&#39;</span>: {</div><div class="line">    <span class="colon">color</span>: <span class="string">&#39;green&#39;</span>,</div><div class="line"></div><div class="line"><div class="line comment">    // expands to .className:hover because of the &amp;</div></div><div class="line">    <span class="string">&#39;&amp;:hover&#39;</span>: {</div><div class="line">      <span class="colon">color</span>: <span class="string">&#39;orange&#39;</span>,</div><div class="line">    },</div><div class="line"></div><div class="line"><div class="line comment">    // expands to .className .childClass</div></div><div class="line">    <span class="string">&#39;.childClass&#39;</span>: {</div><div class="line">      <span class="colon">color</span>: <span class="string">&#39;blue&#39;</span>,</div><div class="line">    },</div><div class="line">  },</div><div class="line"><div class="line comment">  // css ids</div></div><div class="line">  <span class="string">&#39;#id&#39;</span>: {</div><div class="line">    <span class="colon">color</span>: <span class="string">&#39;yellow&#39;</span>,</div><div class="line">  },</div><div class="line"><div class="line comment">  // default html tag styles</div></div><div class="line">  <span class="colon">div</span>: {</div><div class="line">    <span class="colon">color</span>: <span class="string">&#39;black&#39;</span>,</div><div class="line">  },</div><div class="line">}</div></div></div><div><h2>global</h2><p>every component can set a global object, containing state and action properties.</p><div class="Pre"><div class="line"></div><div class="line"><span class="colon">global</span>: {</div><div class="line">  <span class="colon">state</span>: {</div><div class="line">    <span class="colon">variable</span>: <span class="boolean">true</span>,</div><div class="line">    <span class="colon">args</span>: <span class="boolean">true</span>,</div><div class="line">  },</div><div class="line">  <span class="colon">actions</span>: {</div><div class="line">    <span class="colon">callActionInAction</span>: <span class="boolean">true</span>,</div><div class="line">    <span class="colon">changeVariable</span>: <span class="boolean">true</span>,</div><div class="line">  },</div><div class="line">}</div></div></div><div><h2>Full component</h2><p>If we assemble those pieces, we get the following:</p><div class="Pre"><div class="line"></div><div class="line"><span class="keyword">const</span><span class="keyword"> </span>component = {</div><div class="line">    </div><div class="line"><div class="line comment">  // state variables can be anything you can JSON.stringify()</div></div><div class="line">  <span class="colon">state</span>: {</div><div class="line">    <span class="colon">variable</span>: <span class="boolean">true</span>,</div><div class="line">    <span class="colon">args</span>: <span class="string">&#39;none&#39;</span>,</div><div class="line">  },</div><div class="line">    </div><div class="line"><div class="line comment">  // actions are an object containing functions.</div></div><div class="line"><div class="line comment">  // if an action returns an object, this object gets merged into the state</div></div><div class="line">  <span class="colon">actions</span>: {</div><div class="line">    <span class="colon">changeVariable</span>: args =&gt; <span class="state">state</span> =&gt; ({</div><div class="line">      <span class="colon">variable</span>: !<span class="state">state</span>.variable,</div><div class="line">      args,</div><div class="line">    }),</div><div class="line">    <span class="colon">callActionInAction</span>: () =&gt; <span class="keyword">async</span> (<span class="state">state</span>, <span class="actions">actions</span>) =&gt; {</div><div class="line"><div class="line comment">      // just await something inside an action to create an async action</div></div><div class="line">      <span class="keyword">await</span><span class="keyword"> </span><span class="keyword">new</span><span class="keyword"> </span><span class="builtin">Promise</span>(resolve =&gt; {</div><div class="line">        <span class="builtin">setTimeout</span>(resolve, 200)</div><div class="line">      })</div><div class="line">  </div><div class="line"><div class="line comment">      // actions can call other actions</div></div><div class="line">      <span class="actions">actions</span>.changeVariable(<span class="state">state</span>.variable ? <span class="string">&#39;arg passed to function&#39;</span> : <span class="string">&#39;&#39;</span>)</div><div class="line">    },</div><div class="line">  },</div><div class="line">    </div><div class="line">  <span class="colon">style</span>: {</div><div class="line">    <span class="string">&#39;.className&#39;</span>: {</div><div class="line">      <span class="colon">color</span>: <span class="string">&#39;green&#39;</span>,</div><div class="line">  </div><div class="line"><div class="line comment">      // expands to .className:hover because of the &amp;</div></div><div class="line">      <span class="string">&#39;&amp;:hover&#39;</span>: {</div><div class="line">        <span class="colon">color</span>: <span class="string">&#39;orange&#39;</span>,</div><div class="line">      },</div><div class="line">  </div><div class="line"><div class="line comment">      // expands to .className .childClass</div></div><div class="line">      <span class="string">&#39;.childClass&#39;</span>: {</div><div class="line">        <span class="colon">color</span>: <span class="string">&#39;blue&#39;</span>,</div><div class="line">      },</div><div class="line">    },</div><div class="line"><div class="line comment">    // css ids</div></div><div class="line">    <span class="string">&#39;#id&#39;</span>: {</div><div class="line">      <span class="colon">color</span>: <span class="string">&#39;yellow&#39;</span>,</div><div class="line">    },</div><div class="line"><div class="line comment">    // default html tag styles</div></div><div class="line">    <span class="colon">div</span>: {</div><div class="line">      <span class="colon">color</span>: <span class="string">&#39;black&#39;</span>,</div><div class="line">    },</div><div class="line">  },</div><div class="line">    </div><div class="line">  <span class="colon">View</span>: (<span class="state">state</span>, <span class="actions">actions</span>) =&gt; (</div><div class="line">    div({ <span class="colon">onclick</span>: <span class="actions">actions</span>.callActionInAction }, <span class="state">state</span>.variable)</div><div class="line">  ),</div><div class="line">    </div><div class="line">  <span class="colon">global</span>: {</div><div class="line">    <span class="colon">state</span>: {</div><div class="line">      <span class="colon">variable</span>: <span class="boolean">true</span>,</div><div class="line">      <span class="colon">args</span>: <span class="boolean">true</span>,</div><div class="line">    },</div><div class="line">    <span class="colon">actions</span>: {</div><div class="line">      <span class="colon">callActionInAction</span>: <span class="boolean">true</span>,</div><div class="line">      <span class="colon">changeVariable</span>: <span class="boolean">true</span>,</div><div class="line">    },</div><div class="line">  },</div><div class="line">}</div></div></div></div></div><footer class="main"><div class="wrapper">&amp;copy; 2019 - made with â™¥ and <a href="https://github.com/magic/core" target="_blank" rel="noopener">magic</a></div></footer></div></div><script type="text/javascript" src="/core/magic.js"></script></body></html>